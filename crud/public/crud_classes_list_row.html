<link rel="import" href="/bower_components/polymer/polymer.html">

<dom-module id="crud-classes-list-row">

    <!-- scoped CSS for this element -->
    <style>
        :host {
            padding: 20px 20px 20px 0;
        }

        #edit_link {
            color: #333;
            text-decoration: none;
            font-face: Roboto;
            font-size: 16px;
        }

    </style>

    <template>
            <a id="edit_link" href="#"></a>
    </template>

    <script>
        var CrudClassesListRow = {
            component: Polymer({
                is: "crud-classes-list-row",

                factoryImpl: function (class_name, list_component) {
                    var class_title = crud.getClassTitleByName(class_name);

                    this.$.edit_link.textContent = class_title;
                    this.$.edit_link.dataset.crud_class_name = class_name;

                    this.$.edit_link.onclick = function(){
                        var table_polymer = new CrudTable.component(class_name);

                        list_component.crud_replaceChildren(table_polymer);

                        //var hash = table_polymer.crud_getContextHash();
                        //list_component.crud_addContext('list: ' + class_name + ': ' + hash);
                        list_component.crud_updateContext(table_polymer, true);
                        //window.location.hash = hash;

                        return false;
                    };
                },

                ready: function () {
                    console.log('ready');
                }
            })
        };
    </script>

</dom-module>