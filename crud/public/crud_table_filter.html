<link rel="import" href="/bower_components/polymer/polymer.html">

<dom-module id="crud-table-filter">

    <!-- scoped CSS for this element -->
    <style>
    </style>

    <template>
        <div>
            <paper-input id="input"></paper-input>
        </div>
    </template>

    <script>
        var CrudTableFilter = {

            component: Polymer({
                is: "crud-table-filter",

                properties: {
                    crud_class_name: String,
                    crud_field_name: String,
                    crud_field_value: String
                },

                factoryImpl: function (table_component, class_name, search_field_name, value) {
                    this.crud_field_name = search_field_name;
                    this.crud_field_value = value;

                    this.$.input.label = 'filter by ' + search_field_name;
                    this.$.input.value = value;

                    var filter_polymer = this;

                    this.$.input.addEventListener('keyup', function () {
                        filter_polymer.crud_field_value = this.value;
                        table_component.onFilterUpdate();
                    });
                }
            })
        };
    </script>

</dom-module>