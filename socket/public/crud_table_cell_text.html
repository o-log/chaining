<link rel="import" href="/bower_components/polymer/polymer.html">

<dom-module id="crud-table-cell-text">

    <style>
        #cell {display: inline-block;}
    </style>

    <template>
        <div id="cell">
        </div>
    </template>

    <script>
        CrudTableCell_text = Polymer({
            is: "crud-table-cell-text",

            factoryImpl: function(full_obj_id, field_name, widget_params) {
                var obj = storage.getObject(full_obj_id);

                var field_value = obj[field_name];

                if (widget_params.edit_link) {
                    var a_element = document.createElement('a');
                    a_element.dataset.crud_obj_full_id = full_obj_id;
                    a_element.onclick = crud.crudObjectInListOnClick;
                    a_element.href = "#";

                    if (!field_value){
                        field_value = 'NO_VALUE'
                    }
                    a_element.textContent = field_value;

                    this.$.cell.appendChild(a_element);
                } else {
                    this.$.cell.textContent = field_value;
                }
            },

            ready: function(){
                //console.log('ready');
            }
        });
    </script>

</dom-module>