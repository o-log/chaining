<link rel="import" href="/bower_components/polymer/polymer.html">

<dom-module id="crud-table-row">

    <!-- scoped CSS for this element -->
    <style>
        div {
            padding: 4px;
        }
    </style>

    <template>
        <div id="row">
        </div>
    </template>

    <script>
        CrudTableRow = Polymer({
            is: "crud-table-row",

            factoryImpl: function (full_obj_id) {
                var obj = storage.getObject(full_obj_id);
                var obj_class_name = obj._class_name;

                var class_config = crud.crud_config[obj_class_name];
                var list_config = class_config.objects_list;

                for (var i in list_config.columns) {
                    var field_config = list_config.columns[i];
                    var field_name = field_config.field_name;
                    var field_widget = field_config.widget;

                    var new_cell_component = null;
                    switch (field_widget.name){
                        case 'text': {
                            new_cell_component = new CrudTableCell_text(full_obj_id, field_name, field_widget.params);
                        }
                    }

                    this.$.row.appendChild(new_cell_component);
                }
            },

            ready: function () {
                //console.log('ready');
            }
        });
    </script>

</dom-module>